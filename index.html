<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Club Social de Fomento Victoria</title>
  <link rel="icon" href="escudo.jpg" type="image/jpg">

  <style>
    .btn-form {
      background-color: #0484b4;
      color: white;
      font-weight: bold;
      border: none;
      padding: 12px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
    }
    .btn-form:hover {
      background-color: #036699;
    }
  </style>

  <style>
    body { font-family: Arial, sans-serif; padding: 10px; margin: 0; }
    .contenedor { max-width: 800px; margin: 0 auto; padding: 20px; text-align: center; }
    h1,h4,h5 { margin: 5px 0; }
    img { max-width: 100%; height: auto; }

    button { font-size: 16px; margin: 5px; padding: 10px 20px; border-radius: 5px; cursor: pointer; }
    .wa-btn { background-color: #25D366; color: white; font-weight: bold; border: none; }
    .actividad-btn { background-color: #0484b4; color: white; border: none; margin: 3px; padding: 8px 12px; border-radius: 5px; }

    table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 14px; display: none; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    th { background-color: #0484b4; color: white; }
    tr:nth-child(even) { background-color: #f9f9f9; }

    /* Responsive para móviles */
    @media screen and (max-width: 600px) {
      table, thead, tbody, th, td, tr { display: block; }
      thead tr { display: none; }
      tr { margin-bottom: 15px; border: 1px solid #ccc; padding: 10px; border-radius: 8px; }
      td { border: none; padding: 5px; text-align: right; position: relative; }
      td::before { content: attr(data-label); position: absolute; left: 10px; font-weight: bold; text-align: left; }
    }
  </style>
</head>
<body>

<div class="contenedor">
  <h1>Club Social de Fomento Victoria</h1>
  <img src="escudo.jpg" alt="escudo" />
  <h4>Ingeniero White 1153 - ☎ 4744-4188 </h4>
  <h5>Horario Administración: L a V - 16hs a 23hs</h5>

  <button class="wa-btn" onclick="window.location.href='https://wa.me/5491141571341'">Contacto WhatsApp</button>

  <button class="btn-form" onclick="abrirForm()">Hacete socio aquí</button>

  <script>
    function abrirForm() {
      // URL de tu Google Form
      const urlForm = "https://docs.google.com/forms/d/e/TU_FORM_ID/viewform";
      window.open(urlForm, "_blank"); // Abre en nueva pestaña
    }
  </script>

  <h1>Actividades</h1>

  <!-- Botones de actividades -->
  <div id="botonesActividades" style="margin-bottom: 20px;"></div>

  <!-- Tabla dinámica -->
  <table id="tablaActividades">
    <thead>
      <tr>
        <th>Actividad</th>
        <th>Categoría</th>
        <th>Días</th>
        <th>Horario</th>
        <th>Edades</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <footer style="margin-top: 40px; font-size: 11px; color: #777;">
    &copy; <span id="año"></span> Club Social de Fomento Victoria. Todos los derechos reservados.<br>
    Desarrollado por Alejandro Marcos
  </footer>
</div>

<script>
  let actividades = [];

  // Cargar actividades desde JSON externo
  async function cargarActividades() {
    try {
      const res = await fetch('actividades.json');
      actividades = await res.json();
      generarBotones();
    } catch (err) {
      console.error("Error al cargar JSON:", err);
    }
  }

  // Crear botones dinámicos
  function generarBotones() {
    const cont = document.getElementById("botonesActividades");
    cont.innerHTML = "";

    actividades.forEach(act => {
      const btn = document.createElement("button");
      btn.textContent = act.nombre;
      btn.className = "actividad-btn";
      btn.onclick = () => mostrarTabla(act.nombre);
      cont.appendChild(btn);
    });
  }

  // Mostrar tabla de la actividad seleccionada
  function mostrarTabla(filtroNombre) {
    const tabla = document.getElementById("tablaActividades");
    const tbody = tabla.querySelector("tbody");
    tbody.innerHTML = "";

    actividades.forEach(act => {
      if (act.nombre === filtroNombre) {
        act.categorias.forEach(cat => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
            <td data-label="Actividad">${act.nombre}</td>
            <td data-label="Categoría">${cat.nombre}</td>
            <td data-label="Días">${cat.dias}</td>
            <td data-label="Horario">${cat.horario}</td>
            <td data-label="Edades">${cat.edad_desde} - ${cat.edad_hasta}</td>
          `;
          tbody.appendChild(tr);
        });
      }
    });

    tabla.style.display = "table";
  }

  // Inicializamos
  cargarActividades();
  document.getElementById("año").textContent = new Date().getFullYear();
</script>

</body>
</html>
