<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Club Social de Fomento Victoria</title>
  <link rel="icon" href="escudo.jpg" type="image/jpg">

  <style>
    body { font-family: Arial, sans-serif; padding: 10px; margin: 0; }
    .contenedor { max-width: 800px; margin: 0 auto; padding: 20px; text-align: center; }
    h1,h4,h5 { margin: 5px 0; }
    img { max-width: 100%; height: auto; }

    button { font-size: 16px; margin: 5px; padding: 10px 20px; border-radius: 5px; cursor: pointer; }
    .wa-btn { background-color: #25D366; color: white; font-weight: bold; border: none; }

    table { width: 100%; border-collapse: collapse; margin-top: 20px; font-size: 14px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
    th { background-color: #0484b4; color: white; }
    tr:nth-child(even) { background-color: #f9f9f9; }

    /* Responsive para móviles */
    @media screen and (max-width: 600px) {
      table, thead, tbody, th, td, tr { display: block; }
      thead tr { display: none; }
      tr { margin-bottom: 15px; border: 1px solid #ccc; padding: 10px; border-radius: 8px; }
      td { border: none; padding: 5px; text-align: right; position: relative; }
      td::before { content: attr(data-label); position: absolute; left: 10px; font-weight: bold; text-align: left; }
    }
  </style>
</head>
<body>

<div class="contenedor">
  <h1>Club Social de Fomento Victoria</h1>
  <img src="escudo.jpg" alt="escudo" />
  <h4>Ingeniero White 1153 - ☎ 4744-4188 </h4>
  <h5>Horario Administración: L a V - 16hs a 23hs</h5>

  <button class="wa-btn" onclick="window.location.href='https://wa.me/5491141571341'">WhatsApp</button>

  <h1>Actividades</h1>

  <!-- Tabla dinámica -->
  <table id="tablaActividades">
    <thead>
      <tr>
        <th>Actividad</th>
        <th>Categoría</th>
        <th>Días</th>
        <th>Horario</th>
        <th>Edades</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <footer style="margin-top: 40px; font-size: 11px; color: #777;">
    &copy; <span id="año"></span> Club Social de Fomento Victoria. Todos los derechos reservados.<br>
    Desarrollado por Alejandro Marcos
  </footer>
</div>

<script>
  async function cargarTabla() {
    const tbody = document.querySelector("#tablaActividades tbody");
    tbody.innerHTML = "";

    try {
      const res = await fetch('actividades.json');
      const actividades = await res.json();

      actividades.forEach(act => {
        act.categorias.forEach(cat => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
            <td data-label="Actividad">${act.nombre}</td>
            <td data-label="Categoría">${cat.nombre}</td>
            <td data-label="Días">${cat.dias}</td>
            <td data-label="Horario">${cat.horario}</td>
            <td data-label="Edades">${cat.edad_desde} - ${cat.edad_hasta}</td>
          `;
          tbody.appendChild(tr);
        });
      });
    } catch (err) {
      tbody.innerHTML = `<tr><td colspan="5">Error cargando actividades</td></tr>`;
      console.error("Error al cargar JSON:", err);
    }
  }

  cargarTabla();
  document.getElementById("año").textContent = new Date().getFullYear();
</script>

</body>
</html>
